<div class="card data-store-card">
  <div class="card-header">
    <span class="data-store-name">Data Stores</span>
  </div>
  <div class="card-body">
    <div *ngFor="let dataStore of (showAll ? (dataStores$ | async) : (dataStores$ | async)?.slice(0, 5))"
         class="data-store">
      <span class="data-store-name">{{ dataStore.displayName }}</span>
      <div class="progress-bar-container">
        <clr-progress-bar
          [clrValue]="getFilledPercentage(dataStore)"
          [clrMax]="100"
          [clrLabeled]="true"
          [clrDisplayval]="getFilledPercentage(dataStore) + '%'">
        </clr-progress-bar>
        <div class="high-water-mark" [style.left.%]="getHighWaterMarkPercentage(dataStore)"></div>
      </div>
    </div>
    <button *ngIf="((dataStores$ | async)?.length ?? 0) > 5" class="show-more-btn" (click)="toggleShowAll()">
      {{ showAll ? 'Show less' : 'Show all' }}
    </button>
  </div>
  <div class="card-footer">
    {{ (dataStores$ | async)?.length }} Data Stores are being monitored.
  </div>
</div>